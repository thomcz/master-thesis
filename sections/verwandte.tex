%% LaTeX2e class for student theses
%% sections/evaluation.tex
%% 
%% Karlsruhe Institute of Technology
%% Institute for Program Structures and Data Organization
%% Chair for Software Design and Quality (SDQ)
%%
%% Dr.-Ing. Erik Burger
%% burger@kit.edu
%%
%% Version 1.3.3, 2018-04-17

\chapter{Verwandte Arbeiten}
\label{ch:Verwandte}
Im Folgenden wird der aktuelle Forschungsstand bzgl. der Modellierung und Benchmarking von MOMs beschrieben. Dabei werden Arbeiten vorgestellt, die als Grundlage dieser Masterarbeit dienen, bzw. von denen sich diese Arbeit abgrenzt.

\section{Benchmarking und Leistungmodellierung}
Eine Übersicht über Techniken zum Benchmarking und zur Leistungsmodellierung von eventbasierten Systemen wurde in \cite{Kounev2009} veröffentlicht. Als Benchmark wird dort der SPECJms2007 verwendet. Die verwendeten MOMs implementieren alle die JMS Schnittstelle. \par
Happe et al. \cite{happe} stellt ein Verfahren zur Modellierung von nachrichtenbasierten Middleware-Systeme vor. 
%Mithilfe einer Modelltransformationen werden Low-Level-Details in High-Level-Software-Architekturmodelle integriert. 
Eine Fallstudie, die auf Teilen des SPECjms2007 Benchmarks basiert, wird als Validierung des Ansatzes verwendet. Dieser Ansatz erlaubt es jedoch nur, Punkt-zu-Punkt-Verbindungen zu modellieren. \par
In der Arbeit von Liu et al. \cite{Liu2005} werden Vorhersagen der Performance für komponentenbasierte Systeme getroffen. Die Systeme werden dabei in einem Java EE-Applikationsserver eingesetzt. Allerdings umfassen die Workloads nicht mehrere Nachrichtenaustausche oder verschiedene Arten von Interaktionen. \par
%Außerdem Nur für java enterprise und benchmarking manuell durchführen. Auf Implementierungsebene.\cite{Liu2005} \\ 
Die Arbeit von Sachs et al. \cite{Sachs2013} stellt Modellierungsmuster für die Performance von Warteschlangen oder Nachrichtenkanälen vor. Die Muster bilden dabei die verschiedenen Charakteristiken auf Petrinetze ab. Der Ansatz wird mithilfe des SPECjms2007 Benchmark präsentiert und validiert. Mithilfe der Arbeit verringert sich die Lücke zwischen Architekturspezifikationen und Vorhersagemodell. Dennoch ist Expertenwissen erforderlich, da das Performance-Modell manuell erstellt werden muss. \par
In \cite{baldoni} wird ein Berechnungsmodell für Publish/Subscribe-Kommunikation vorgestellt. Dabei werden Übertragungen als Verzögerung angenommen. Basierend auf diesem Berechnungsmodell wird ein probabilistisches Modell die Effektivität der Publish/Subscribe-Kommunikation abgeleitet. Performance-Metriken wie Übertragungszeit oder Ressourcenauslastung werden nicht berücksichtigt. \par
Der Ansatz aus \cite{Kounev2008} stellt auch eine Methodik zur Charakterisierung und Performance-Modellierung von verteilten eventbasierten Systemen vor. Dieser ist aber auf die Verfügbarkeit von Überwachungsdaten, aus dem laufenden System, angewiesen und daher nur anwendbar, wenn eine laufende Systemimplementierung vorhanden ist. \par
Alle in diesem Abschnitt vorgestellten Ansätze arbeiten auf sehr speziellen Analyse-Modellen. Die Anwendung der Ansätze erfordert deshalb detailiertes Expertenwissen. Dadurch wird die Integration in einen generellen Software-Entwicklungsprozess erschwert.  
%und  als der Ansatz der Masterarbeit, der bereits zu Modellierungszeit ohne großes Expertenwissen und ohne vorhandene Systemimplementierung den Softwarearchitekten unterstützen will.

\section{Performance-Messungen und Konfigurationsentscheidungen für MOMs}
\label{sec:config_mom}
In der Literatur finden sich verschiedene Arbeiten der jeweiligen MOM-Hersteller, die ihre MOM mit anderen MOMs vergleichen. In \cite{kafka} vergleichen die Autoren Apache Kafka mit den beiden MOMs ActiveMQ und RabbitMQ. Dabei wird die Performance der drei MOMs untersucht. Auch in der Arbeit von Dobbelaere et al. \cite{Dobbelaere2017} wird Kafka und RabbitMQ im Hinblick auf Performance und Verfügbarkeit verglichen. Dabei werden jeweils Benchmarks und die jeweiligen Standardkonfigurationen der MOMs verwendet. Außerdem präsentieren einige MOM-Hersteller, die Performance ihrer MOM auf ihrer Internetseite. In \cite{kafkaconfig} wird die Performance von Apache Kafka in mehreren Benchmarks ausgemessen und die Ergebnisse präsentiert. Auch in \cite{rabbitperf} werden die Ergebnisse des Benchmarks der MOM RabbitMQ präsentiert. Das Problem mit den Artikeln ist, dass diese schon einige Jahre alt sind, die MOMs aber weiterentwickelt haben und davon ausgegangen werden kann, dass die Performance-Messungen nicht mehr aktuell sind. Jedoch bieten die Artikel einen genauen Aufbau an, mit dem eine Messung nachgestellt werden kann. \par
Außerdem habe MOMs eine Vielzahl an Konfigurationsmöglichkeiten. Auch hierfür findet sich sehr wenig Literatur darüber, welche Konfigurationsentscheidung zum Beispiel die beste Performance oder Verfügbarkeit bringt. Diese Informationen werden oft auf den jeweiligen Internetseiten, der MOM-Hersteller, in einem Beitrag geteilt. Einen solchen Beitrag bietet der Hersteller der MOM RabbitMQ an. In einer dreiteiligen Serie \cite{rabbitconfig} beschreiben die Autoren neben vielen nützlichen Tipps, jeweils die optimale Konfigurationen für RabbitMQ um hohe Performance oder Verfügbarkeit zu erhalten. Jedoch werden keine Performance-Messungen oder ähnliches angeboten.\par
%Auch die Hersteller von ActiveMQ bieten eine Beitrag über Performanztuning an \cite{activemqconfig}. Dort wird beschrieben wie durch Konfiguration der Durchsatz erhöht werden kann. Für Kafka bieten die Hersteller eine Artikel \cite{kafkaconfig} an, mit dem 2-Millionen Schreibzugriffe pro Sekunde möglich sind. 
Die hier erwähnten Arbeiten sollen dafür verwendet werden um eine Performance-Messung für RabbitMQ durchzuführen. Außerdem sollen damit Konfigurationen identifiziert werden, die ausschlaggebend für die Performance sind.

\section{Modellierung eventbasierter Interaktion in komponentenbasierten Architekturen}
Wie bereits in den Grundlagen erwähnt, bietet die Dissertation von Rathfelder \cite{Rathfelder2013} einen Ansatz an, mit dem die Modellierung eventbasierter Interaktionen auf Architekturebene ermöglicht wird. Dabei wird das Meta-Modell des PCM erweitert. Außerdem, wird mithilfe einer Modeltransformation eine Performance-Analyse ermöglicht. In der Arbeit wird der Ansatz anschließend mithilfe zweier Fallstudien validiert. Das Problem, der Arbeit ist, dass Warteschlangen, nicht explezit betrachtet werden und bestimmte Effekte somit nicht abgebildet werden können. Im Gegensatz dazu sollen in dieser Masterarbeit die Warteschlangen einer Middleware explizit betrachtet werden, um diese Effekte abbilden zu können. Die in der Arbeit von Rathfelder eingeführten Elemente zum modellieren eventbasierter Kommunikation, sowie die verwendete Fallstudie, mit dem SpecJMS2007 System, werden in dieser Masterarbeit wiederverwendet.